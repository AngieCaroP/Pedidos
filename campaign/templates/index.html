{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Campañas de Relojería</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>
    <div class="container">
        <h1>Generador de Campañas de Relojería</h1>

        <form method="post">
            {% csrf_token %}
            <div class="form-grid">
                <div class="form-group">
                    <label for="pais">País</label>
                    <select id="pais" name="pais" onchange="actualizarListaRelojes()">
                        <option value="">Seleccionar País</option>
                        <option value="ECU">ECU</option>
                        <option value="COL">COL</option>
                        <option value="VEN">VEN</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="campana">Campaña</label>
                    <select id="campana" name="campana" onchange="actualizarSeleccion()">
                        <option value="">Seleccionar Campaña</option>
                        <option value="CBO">CBO</option>
                        <option value="ABO">ABO</option>
                        <option value="FLEXIBLE">FLEXIBLE</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="fecha">Fecha</label>
                    <input type="date" id="fecha" name="fecha" onchange="actualizarSeleccion()">
                </div>

                <div class="form-group">
                    <label for="busquedaReloj">Nombre del Reloj</label>
                    <input type="text" id="busquedaReloj" name="busquedaReloj" list="listaRelojes" oninput="filtrarRelojes()" onchange="actualizarDatosReloj()" placeholder="Escriba o seleccione">
                    <datalist id="listaRelojes"></datalist>
                </div>

                <div class="form-group">
                    <label for="idReloj">ID del Reloj</label>
                    <input type="text" id="idReloj" name="idReloj" readonly>
                </div>

                <div class="form-group">
                    <label for="persona">Persona</label>
                    <select id="persona" name="persona" onchange="actualizarSeleccion()">
                        <option value="">Seleccionar Persona</option>
                        <option value="DP">DP</option>
                        <option value="CP">CP</option>
                        <option value="KO">KO</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="numImportacion">Número de Importación</label>
                    <input type="text" id="numImportacion" name="numImportacion" readonly>
                </div>

                <div class="form-group">
                    <label for="plataforma">Plataforma</label>
                    <select id="plataforma" name="plataforma" onchange="actualizarSeleccion()">
                        <option value="">Seleccionar Plataforma</option>
                        <option value="F">Facebook</option>
                        <option value="T">TikTok</option>
                    </select>
                </div>
            </div>

            <div class="resultado">
                <label>Resultado Final:</label>
                <div class="resultado-container">
                    <textarea id="seleccionActual" name="seleccionActual" rows="3" readonly>Complete todos los campos para generar el resultado</textarea>
                    <button type="button" onclick="copiarTexto()">Copiar</button>
                    <button type="button" onclick="limpiarCampos()">Limpiar</button>
                </div>
            </div>
            
            <a href="{% url 'guias' %}" target="_blank" style="display: block; margin-top: 15px;">Ver historial de guías generadas</a>
        </form>
    </div>

    <script src="{% static 'script.js' %}"></script>
</body>
</html>